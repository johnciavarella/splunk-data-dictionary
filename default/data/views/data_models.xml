
        <dashboard version="2" theme="dark" hiddenElements="{&quot;hideEdit&quot;:false,&quot;hideOpenInSearch&quot;:false,&quot;hideExport&quot;:false}">
            <label>Data Models</label>
            <description></description>
            <definition><![CDATA[{"visualizations":{"viz_v6oNds1q":{"type":"splunk.linkgraph","options":{"nodeColor":"#5a4575","nodeHighlightColor":"#0877a6"},"dataSources":{"primary":"ds_LBf7t1b6"},"title":"Data Models - Index - Sourcetype Mapping"},"viz_oTizA8oB":{"type":"splunk.rectangle"},"viz_6RnaRo4o":{"type":"splunk.markdown","options":{"markdown":"\n# Overview - Data Models","fontColor":"#dc4e41","FontSize":50}},"viz_UqQnel2V":{"type":"splunk.table","options":{"count":15,"columnFormat":{"sizeMB":{"data":"> table | seriesByName(\"sizeMB\") | formatByType(sizeMBColumnFormatEditorConfig)","rowColors":"> table | seriesByName(\"sizeMB\") | rangeValue(sizeMBRowColorsEditorConfig)"},"accelerated":{"data":"> table | seriesByName(\"accelerated\") | formatByType(acceleratedColumnFormatEditorConfig)","rowColors":"> table | seriesByName(\"accelerated\") | matchValue(acceleratedRowColorsEditorConfig)"}}},"dataSources":{"primary":"ds_rxtQ3Vgb_ds_QFSa8WDI"},"context":{"sizeMBColumnFormatEditorConfig":{"number":{"thousandSeparated":true,"unitPosition":"after","unit":"mb"}},"sizeMBRowColorsEditorConfig":[{"value":"#111111","to":0.01},{"value":"#692A21","from":0.01,"to":40},{"value":"#333022","from":40,"to":60},{"value":"#284D27","from":60,"to":80},{"value":"#1C6B2D","from":80}],"acceleratedColumnFormatEditorConfig":{"string":{"unitPosition":"after"}},"acceleratedRowColorsEditorConfig":[{"match":"no","value":"#78062a"},{"match":"yes","value":"#2f8811"}]}},"viz_qSmvxOF1":{"type":"splunk.column","options":{},"dataSources":{"primary":"ds_ew4NAyU5"},"context":{"sizeMBColumnFormatEditorConfig":{"number":{"thousandSeparated":true,"unitPosition":"after"}},"sizeMBRowColorsEditorConfig":[{"value":"#000000","to":20},{"value":"#692A21","from":20,"to":40},{"value":"#333022","from":40,"to":60},{"value":"#284D27","from":60,"to":80},{"value":"#1C6B2D","from":80}],"acceleratedColumnFormatEditorConfig":{"string":{"unitPosition":"after"}},"acceleratedRowColorsEditorConfig":[{"match":"no","value":"#78062a"},{"match":"yes","value":"#2f8811"}]},"showProgressBar":false,"showLastUpdated":false,"title":"Data Model Sizes"},"viz_aBuoSnk0":{"type":"splunk.table","options":{"count":16,"columnFormat":{"sizeMB":{"data":"> table | seriesByName(\"sizeMB\") | formatByType(sizeMBColumnFormatEditorConfig)","rowColors":"> table | seriesByName(\"sizeMB\") | rangeValue(sizeMBRowColorsEditorConfig)"},"accelerated":{"data":"> table | seriesByName(\"accelerated\") | formatByType(acceleratedColumnFormatEditorConfig)","rowColors":"> table | seriesByName(\"accelerated\") | matchValue(acceleratedRowColorsEditorConfig)"}}},"dataSources":{"primary":"ds_7P6CU0qB"},"context":{"sizeMBColumnFormatEditorConfig":{"number":{"thousandSeparated":true,"unitPosition":"after"}},"sizeMBRowColorsEditorConfig":[{"value":"#000000","to":20},{"value":"#692A21","from":20,"to":40},{"value":"#333022","from":40,"to":60},{"value":"#284D27","from":60,"to":80},{"value":"#1C6B2D","from":80}],"acceleratedColumnFormatEditorConfig":{"string":{"unitPosition":"after"}},"acceleratedRowColorsEditorConfig":[{"match":"no","value":"#78062a"},{"match":"yes","value":"#2f8811"}]}},"viz_AB9AiMkD":{"type":"splunk.singlevalue","dataSources":{"primary":"ds_s1MDUTvs"},"title":"DM - Accelerated","options":{"majorColor":"> majorValue | rangeValue(majorColorEditorConfig)"},"context":{"majorColorEditorConfig":[{"to":20,"value":"#D41F1F"},{"from":20,"to":40,"value":"#D94E17"},{"from":40,"to":60,"value":"#CBA700"},{"from":60,"to":80,"value":"#669922"},{"from":80,"value":"#118832"}]}},"viz_DbFKx7Ry":{"type":"splunk.singlevalue","dataSources":{"primary":"ds_gC9mM95I"},"title":"DM - Macro Defined","options":{"majorColor":"> majorValue | rangeValue(majorColorEditorConfig)"},"context":{"majorColorEditorConfig":[{"to":20,"value":"#D41F1F"},{"from":20,"to":40,"value":"#D94E17"},{"from":40,"to":60,"value":"#CBA700"},{"from":60,"to":80,"value":"#669922"},{"from":80,"value":"#118832"}]}},"viz_5fKb74L5":{"type":"splunk.singlevalueradial","dataSources":{"primary":"ds_ECbTXDwg_ds_gC9mM95I"},"title":"DM - Macro Defined","options":{"majorColor":"> majorValue | rangeValue(majorColorEditorConfig)"},"context":{"majorColorEditorConfig":[{"to":20,"value":"#D41F1F"},{"from":20,"to":40,"value":"#D94E17"},{"from":40,"to":60,"value":"#CBA700"},{"from":60,"to":80,"value":"#669922"},{"from":80,"value":"#118832"}]},"showProgressBar":false,"showLastUpdated":false},"viz_lupBVnLb":{"type":"splunk.rectangle"},"viz_sxZyqIuy":{"type":"splunk.rectangle"},"viz_CLXubLxs":{"type":"splunk.pie","options":{},"dataSources":{"primary":"ds_ew4NAyU5"},"context":{"sizeMBColumnFormatEditorConfig":{"number":{"thousandSeparated":true,"unitPosition":"after"}},"sizeMBRowColorsEditorConfig":[{"value":"#000000","to":20},{"value":"#692A21","from":20,"to":40},{"value":"#333022","from":40,"to":60},{"value":"#284D27","from":60,"to":80},{"value":"#1C6B2D","from":80}],"acceleratedColumnFormatEditorConfig":{"string":{"unitPosition":"after"}},"acceleratedRowColorsEditorConfig":[{"match":"no","value":"#78062a"},{"match":"yes","value":"#2f8811"}]},"showProgressBar":false,"showLastUpdated":false,"title":"Data Model Sizes"},"viz_zQaJ5c8F":{"type":"splunk.singlevalue","dataSources":{"primary":"ds_s1MDUTvs"},"title":"DM - Accelerated","options":{"majorColor":"> majorValue | rangeValue(majorColorEditorConfig)"},"context":{"majorColorEditorConfig":[{"to":20,"value":"#D41F1F"},{"from":20,"to":40,"value":"#D94E17"},{"from":40,"to":60,"value":"#CBA700"},{"from":60,"to":80,"value":"#669922"},{"from":80,"value":"#118832"}]}},"viz_puOa6pxU":{"type":"splunk.markdown","options":{"markdown":"\n# Data Models - Index Macros","fontColor":"#dc4e41","FontSize":50}},"viz_EPP1gMgf":{"type":"splunk.markdown","options":{"markdown":"CIM datamodels use macros to tell it what data to search. If your data model is accelerated and you don't have an index definition defined it will cause high SVC usage.","fontColor":"#ffffff","FontSize":50}}},"dataSources":{"ds_LBf7t1b6":{"type":"ds.search","options":{"query":"| inputlookup DM2index2Sourcetype.csv\n| search datamodel=*","queryParameters":{"earliest":"$global_time.earliest$","latest":"$global_time.latest$"}},"name":"Data Model - Linked Graph"},"ds_QFSa8WDI":{"type":"ds.search","options":{"query":"|rest servicesNS/-/-/data/models \n| search acceleration=\"1\"\n| table title eai:appName eai:userName\n| rename eai:appName AS name| eval myDatamodel=\"DM_\" . name . \"_\" . title\n|map search=\"|rest /servicesNS/nobody/-/admin/summarization/tstats:$$myDatamodel$$ splunk_server=*\"|table eai:acl.app,eai:acl.owner, summary.id, summary.size|rename eai:acl.app as app eai:acl.owner as owner summary.size as size summary.id as datamodel\n|eval sizeMB=round(size/1000000,2)|fields - size|addcoltotals sizeMB","queryParameters":{"earliest":"$global_time.earliest$","latest":"$global_time.latest$"}},"name":"Accelerated Data Model Size"},"ds_rxtQ3Vgb_ds_QFSa8WDI":{"type":"ds.search","options":{"query":"|rest servicesNS/-/-/data/models \n| search acceleration=\"0\"\n| table title eai:appName eai:userName\n| rename eai:appName AS name eai:userName as owner name as app title as datamodel\n| eval myDatamodel=\"DM_\" . name . \"_\" . title \n| eval sizeMB=0 | eval accelerated=\"no\"\n| fields datamodel app accelerated sizeMB\n| append [\n|rest servicesNS/-/-/data/models \n| search acceleration=\"1\"\n| table title eai:appName eai:userName\n| rename eai:appName AS name| eval myDatamodel=\"DM_\" . name . \"_\" . title\n\n|map maxsearches=1000 search=\"|rest /servicesNS/nobody/-/admin/summarization/tstats:$$myDatamodel$$ splunk_server=*\" \n|table eai:acl.app,eai:acl.owner, summary.id, summary.size summary.access_count summary.access_time \n| rex mode=sed field=title \"s/tstats\\://g\"|rename summary.access_count AS access_count summary.access_time AS _time \n| reltime | sort + access_count | fields - _time \n| rename reltime AS last_accessed | eval last_accessed=if(access_count=0,\"never\",last_accessed) \n|rename eai:acl.app as app eai:acl.owner as owner summary.size as size summary.id as datamodel\n|eval sizeMB=round(size/1000000,2) |fields - size \n| eval accelerated=\"yes\"\n| rex field=datamodel \"DM_Splunk_SA_CIM_(?<datamodel>.+)\"\n]\n|eval access_count=if(isnull('access_count'), \"N/A\", access_count)\n|eval last_accessed=if(isnull('last_accessed'), \"N/A\", last_accessed)\n| fields datamodel app\taccelerated\taccess_count last_accessed sizeMB\n| sort - sizeMB","queryParameters":{"earliest":"$global_time.earliest$","latest":"$global_time.latest$"}},"name":"Accelerated Data Model Size Complete"},"ds_ew4NAyU5":{"type":"ds.chain","options":{"extend":"ds_rxtQ3Vgb_ds_QFSa8WDI","query":"| fields datamodel sizeMB\n| where sizeMB>0\n| sort datamodel"},"name":"Data Model Sizes"},"ds_7P6CU0qB":{"type":"ds.search","options":{"query":"| rest /services/configs/conf-macros | search eai:acl.app=Splunk_SA_CIM title=*_indexes | rex field=title \"cim_(?<datamodel>.+)\" | table title definition datamodel\n| rename title as \"Macro\"\n|  appendcols  [ | rest /services/data/models| table acceleration eai:appName title | rename eai:appName as App title as datamodel | eval acceleration=if(acceleration == 1, \"yes\", \"no\") ]\n| table datamodel acceleration definition Macro\n|  sort -definition","queryParameters":{"earliest":"$global_time.earliest$","latest":"$global_time.latest$"}},"name":"Search Macros"},"ds_s1MDUTvs":{"type":"ds.chain","options":{"extend":"ds_7P6CU0qB","query":"\n | eval acceleration=if(acceleration == \"yes\", 1, 0) | stats sum(acceleration)"},"name":"Search Macro - Accelerated Count"},"ds_gC9mM95I":{"type":"ds.chain","options":{"extend":"ds_7P6CU0qB","query":" | eval definition=if(match(definition,\"index\"), 1, 0) | stats sum(definition)"},"name":"Search Macro - Macro Defined Count"},"ds_ECbTXDwg_ds_gC9mM95I":{"type":"ds.chain","options":{"extend":"ds_7P6CU0qB","query":" | eval definition=if(match(definition,\"index\"), 1, 0) | stats sum(definition)"},"name":"Search Macro - Macro Defined Count copy 1"},"ds_dy1H1IgM_ds_ew4NAyU5":{"type":"ds.chain","options":{"extend":"ds_rxtQ3Vgb_ds_QFSa8WDI","query":"| fields datamodel sizeMB\n| where sizeMB>0\n| sort datamodel"},"name":"Data Model Sizes copy 1"},"ds_TOXneAjm_ds_s1MDUTvs":{"type":"ds.chain","options":{"extend":"ds_7P6CU0qB","query":"\n | eval acceleration=if(acceleration == \"yes\", 1, 0) | stats sum(acceleration)"},"name":"Search Macro - Accelerated Count copy 1"}},"defaults":{"dataSources":{"ds.search":{"options":{"queryParameters":{"latest":"$global_time.latest$","earliest":"$global_time.earliest$"}}}}},"inputs":{"input_global_trp":{"type":"input.timerange","options":{"token":"global_time","defaultValue":"-7d@h,now"},"title":"Global Time Range"}},"layout":{"type":"absolute","options":{"display":"auto-scale","height":2500,"width":1500},"structure":[{"item":"viz_sxZyqIuy","type":"block","position":{"x":10,"y":1510,"w":1170,"h":910}},{"item":"viz_lupBVnLb","type":"block","position":{"x":10,"y":760,"w":1170,"h":740}},{"item":"viz_oTizA8oB","type":"block","position":{"x":10,"y":10,"w":1170,"h":740}},{"item":"viz_v6oNds1q","type":"block","position":{"x":30,"y":230,"w":1130,"h":500}},{"item":"viz_6RnaRo4o","type":"block","position":{"x":20,"y":20,"w":300,"h":300}},{"item":"viz_UqQnel2V","type":"block","position":{"x":30,"y":1810,"w":1130,"h":590}},{"item":"viz_qSmvxOF1","type":"block","position":{"x":580,"y":60,"w":580,"h":160}},{"item":"viz_aBuoSnk0","type":"block","position":{"x":30,"y":850,"w":1130,"h":630}},{"item":"viz_AB9AiMkD","type":"block","position":{"x":30,"y":60,"w":180,"h":160}},{"item":"viz_DbFKx7Ry","type":"block","position":{"x":210,"y":60,"w":180,"h":160}},{"item":"viz_5fKb74L5","type":"block","position":{"x":390,"y":60,"w":180,"h":160}},{"item":"viz_CLXubLxs","type":"block","position":{"x":30,"y":1540,"w":500,"h":250}},{"item":"viz_zQaJ5c8F","type":"block","position":{"x":540,"y":1540,"w":270,"h":250}},{"item":"viz_puOa6pxU","type":"block","position":{"x":30,"y":780,"w":360,"h":90}},{"item":"viz_EPP1gMgf","type":"block","position":{"x":30,"y":810,"w":1140,"h":90}}],"globalInputs":["input_global_trp"]},"description":"","title":"Data Models"}]]></definition>
            <assets><![CDATA[{}]]></assets>
        </dashboard>